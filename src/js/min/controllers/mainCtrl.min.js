app.controller("mainCtrl",["$rootScope","$scope","channel","$cookieStore","$location",function(a,b,c,d,e){var f="877549163404-chjiknp3ffeiatmb2mcb8dfp23u7sm8q.apps.googleusercontent.com",g=["https://www.googleapis.com/auth/youtube"],h="AIzaSyDJIOlGzyjPFEQ5j-Q2qEJVbOJtgqmby_Y";b.auth=function(){gapi.client.setApiKey=h,b.checkAuth()},b.checkAuth=function(){gapi.auth.authorize({client_id:f,scope:g,immediate:!0},i)};var i=function(){gapi.client.load("youtube","v3",function(){var d=gapi.client.youtube.channels.list({mine:!0,part:"id,snippet"});d.execute(function(d){var f=d.result.items[0];a.authorized=!0,c.basic={authorized:!0,title:f.snippet.title,id:f.id,thumbnail:f.snippet.thumbnails["default"].url},b.$apply(),b.success("logged"),"/login"===e.url()&&e.url("/playlists")})})};b.channel=c;var j=d.get("options");angular.isDefined(j)&&(c.options=j,c.options.rememberMe?window.setTimeout(b.auth,1e3):e.url("/")),b.success=function(a){b.msg=a,b.$apply(),$("#success-box").addClass("visible");var c=setTimeout(function(){$("#success-box").removeClass("visible")},7500);$("#success-box").find("span").on("click",function(){clearTimeout(c),$("#success-box").removeClass("visible")})}}]);